{
  "hash": "3c4deafb5ae783f88916cb9033ad9c2e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Cálculo da Economia em Saúde\"\n---\n\n# Introdução\n\nEste capítulo calcula a economia em saúde gerada pela cobertura de médicos de família, detalhando os resultados por categoria de procedimento.\n\n**Estrutura:**\n\n1.  Economia com encaminhamentos\n2.  Economia com exames\n3.  Economia com internações\n4.  Totalização e interpretação\n\n------------------------------------------------------------------------\n\n# Preparação\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(scipen = 999, digits = 2, OutDec = \",\")\n\nformatar_numero <- function(x, decimais = 0) {\n  format(round(x, decimais), big.mark = \".\", decimal.mark = \",\", nsmall = decimais)\n}\n\nformatar_moeda <- function(x) {\n  paste0(\"R$ \", formatar_numero(x))\n}\n```\n:::\n\n\n------------------------------------------------------------------------\n\n# Função de Conversão para Baseline\n\nOs dados dos estudos foram observados em uma população mista (33,6% médicos de família + 66,4% generalistas). Precisamos converter para o cenário baseline (0% médicos de família).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconverter_para_baseline <- function(valor_observado, \n                                     risco_relativo, \n                                     proporcao_mfc = 0.336, \n                                     proporcao_gen = 0.664,\n                                     populacao_estudo = 600000, \n                                     populacao_alvo = 500000) {\n  \n  denominador <- (proporcao_mfc * risco_relativo) + proporcao_gen\n  baseline_estudo <- valor_observado / denominador\n  baseline_alvo <- baseline_estudo * (populacao_alvo / populacao_estudo)\n  \n  return(baseline_alvo)\n}\n```\n:::\n\n\n------------------------------------------------------------------------\n\n# Parâmetros\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncusto_consulta <- 50.00\nfator_correcao_internacoes <- 1.5\n```\n:::\n\n\n| Parâmetro | Valor | Justificativa |\n|----|----|----|\n| Custo da consulta especializada | R$ 50 | Média ponderada da tabela do Sistema Único de Saúde |\n| Fator de correção para internações | 1.5 | Corrige defasagem da tabela de internações |\n\n------------------------------------------------------------------------\n\n# 1. Economia com Encaminhamentos\n\n## Encaminhamentos Ambulatoriais\n\n\n::: {.cell}\n\n```{.r .cell-code}\nenc_ambulatoriais <- data.frame(\n  especialidade = c(\n    \"Cardiologia\", \"Neurologia\", \"Psiquiatria\", \"Dermatologia\",\n    \"Pneumologia\", \"Doenças infecciosas\", \"Urologia\", \"Alergologia\",\n    \"Nefrologia\", \"Endocrinologia\", \"Gastroenterologia\", \"Angiologia\",\n    \"Reumatologia\", \"Fisioterapia\", \"Reabilitação\", \"Oftalmologia\",\n    \"Otorrinolaringologia\", \"Ortopedia\", \"Ginecologia\", \"Pré-natal alto risco\"\n  ),\n  risco_relativo = c(\n    0.40, 0.50, 0.45, 0.49, 0.54, 0.74, 0.57, 0.54,\n    0.63, 0.42, 0.38, 0.35, 0.47, 1.17, 1.68, 1.09,\n    0.71, 0.52, 0.86, 0.66\n  ),\n  observado = c(\n    2008, 1835, 897, 4144, 903, 290, 1762, 480,\n    603, 1021, 867, 1030, 830, 2390, 1173, 8713,\n    2269, 4934, 738, 991\n  ),\n  stringsAsFactors = FALSE\n)\n\n# Calcular baseline e economia\nenc_ambulatoriais$baseline <- mapply(converter_para_baseline, \n                                      enc_ambulatoriais$observado, \n                                      enc_ambulatoriais$risco_relativo)\n\nenc_ambulatoriais$reducao_pct <- (1 - enc_ambulatoriais$risco_relativo) * 100\n\nenc_ambulatoriais$eventos_evitados <- enc_ambulatoriais$baseline * \n                                       (1 - enc_ambulatoriais$risco_relativo)\n\nenc_ambulatoriais$economia <- enc_ambulatoriais$eventos_evitados * custo_consulta\n```\n:::\n\n\n### Especialidades com Maior Economia\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ordenar por economia\nenc_amb_ordenado <- enc_ambulatoriais[order(-enc_ambulatoriais$economia), ]\n\n# Top 10\ntop10_amb <- enc_amb_ordenado[1:10, c(\"especialidade\", \"risco_relativo\", \n                                       \"eventos_evitados\", \"economia\")]\ntop10_amb$reducao <- paste0(round((1 - top10_amb$risco_relativo) * 100, 0), \"%\")\ntop10_amb$economia_fmt <- formatar_moeda(top10_amb$economia)\ntop10_amb$eventos_fmt <- formatar_numero(top10_amb$eventos_evitados)\n\nknitr::kable(\n  top10_amb[, c(\"especialidade\", \"reducao\", \"eventos_fmt\", \"economia_fmt\")],\n  col.names = c(\"Especialidade\", \"Redução\", \"Consultas Evitadas/ano\", \"Economia/ano\"),\n  caption = \"10 especialidades ambulatoriais com maior economia\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: 10 especialidades ambulatoriais com maior economia\n\n|   |Especialidade        |Redução |Consultas Evitadas/ano |Economia/ano |\n|:--|:--------------------|:-------|:----------------------|:------------|\n|18 |Ortopedia            |48%     |2.353                  |R$ 117.655   |\n|4  |Dermatologia         |51%     |2.125                  |R$ 106.271   |\n|1  |Cardiologia          |60%     |1.258                  |R$  62.876   |\n|2  |Neurologia           |50%     |919                    |R$  45.949   |\n|7  |Urologia             |43%     |738                    |R$  36.901   |\n|12 |Angiologia           |65%     |714                    |R$  35.691   |\n|10 |Endocrinologia       |58%     |613                    |R$  30.647   |\n|17 |Otorrinolaringologia |29%     |608                    |R$  30.377   |\n|11 |Gastroenterologia    |62%     |566                    |R$  28.291   |\n|3  |Psiquiatria          |55%     |504                    |R$  25.216   |\n\n\n:::\n:::\n\n\n### Especialidades com Aumento de Encaminhamentos\n\nAlgumas especialidades apresentam risco relativo maior que 1, indicando que médicos de família encaminham **mais** para estas áreas:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nenc_aumento <- enc_ambulatoriais[enc_ambulatoriais$risco_relativo > 1, \n                                  c(\"especialidade\", \"risco_relativo\", \"economia\")]\nenc_aumento$aumento <- paste0(\"+\", round((enc_aumento$risco_relativo - 1) * 100, 0), \"%\")\nenc_aumento$custo_adicional <- formatar_moeda(-enc_aumento$economia)\n\nknitr::kable(\n  enc_aumento[, c(\"especialidade\", \"aumento\", \"custo_adicional\")],\n  col.names = c(\"Especialidade\", \"Aumento\", \"Custo Adicional/ano\"),\n  caption = \"Especialidades com aumento de encaminhamentos\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Especialidades com aumento de encaminhamentos\n\n|   |Especialidade |Aumento |Custo Adicional/ano |\n|:--|:-------------|:-------|:-------------------|\n|14 |Fisioterapia  |+17%    |R$ 16.014           |\n|15 |Reabilitação  |+68%    |R$ 27.054           |\n|16 |Oftalmologia  |+9%     |R$ 31.715           |\n\n\n:::\n:::\n\n\n**Interpretação:** Médicos de família encaminham mais para Fisioterapia, Reabilitação e Oftalmologia. Isso pode indicar melhor identificação de necessidades nestas áreas.\n\n### Total de Encaminhamentos Ambulatoriais\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_enc_amb <- sum(enc_ambulatoriais$economia)\n```\n:::\n\n\n**Economia total com encaminhamentos ambulatoriais:** R$ 533.169 por ano\n\n------------------------------------------------------------------------\n\n## Encaminhamentos Cirúrgicos\n\n\n::: {.cell}\n\n```{.r .cell-code}\nenc_cirurgicos <- data.frame(\n  especialidade = c(\n    \"Cirurgia geral\", \"Cirurgia vascular\", \"Neurocirurgia\",\n    \"Proctologia\", \"Cirurgia de cabeça e pescoço\", \"Mastologia\"\n  ),\n  risco_relativo = c(1.21, 0.87, 1.22, 0.91, 1.19, 0.87),\n  observado = c(4458, 989, 147, 1968, 859, 359),\n  stringsAsFactors = FALSE\n)\n\nenc_cirurgicos$baseline <- mapply(converter_para_baseline, \n                                   enc_cirurgicos$observado, \n                                   enc_cirurgicos$risco_relativo)\n\nenc_cirurgicos$eventos_evitados <- enc_cirurgicos$baseline * \n                                    (1 - enc_cirurgicos$risco_relativo)\n\nenc_cirurgicos$economia <- enc_cirurgicos$eventos_evitados * custo_consulta\n\nenc_cirurgicos$efeito <- ifelse(enc_cirurgicos$risco_relativo < 1, \n                                 paste0(\"-\", round((1 - enc_cirurgicos$risco_relativo) * 100, 0), \"%\"),\n                                 paste0(\"+\", round((enc_cirurgicos$risco_relativo - 1) * 100, 0), \"%\"))\n\nenc_cirurgicos$economia_fmt <- ifelse(enc_cirurgicos$economia >= 0,\n                                       formatar_moeda(enc_cirurgicos$economia),\n                                       paste0(\"(\", formatar_moeda(-enc_cirurgicos$economia), \")\"))\n\nknitr::kable(\n  enc_cirurgicos[, c(\"especialidade\", \"efeito\", \"economia_fmt\")],\n  col.names = c(\"Especialidade Cirúrgica\", \"Efeito\", \"Economia/ano\"),\n  caption = \"Encaminhamentos cirúrgicos (valores negativos entre parênteses)\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Encaminhamentos cirúrgicos (valores negativos entre parênteses)\n\n|Especialidade Cirúrgica      |Efeito |Economia/ano |\n|:----------------------------|:------|:------------|\n|Cirurgia geral               |+21%   |(R$ 36.437)  |\n|Cirurgia vascular            |-13%   |R$   5.602   |\n|Neurocirurgia                |+22%   |(R$  1.255)  |\n|Proctologia                  |-9%    |R$   7.610   |\n|Cirurgia de cabeça e pescoço |+19%   |(R$  6.392)  |\n|Mastologia                   |-13%   |R$   2.033   |\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_enc_cir <- sum(enc_cirurgicos$economia)\n```\n:::\n\n\n**Economia total com encaminhamentos cirúrgicos:** R$ -28.838 por ano\n\n**Nota:** O valor negativo indica que médicos de família geram custo adicional nesta categoria, principalmente por encaminharem mais para cirurgia geral, neurocirurgia e cirurgia de cabeça e pescoço.\n\n------------------------------------------------------------------------\n\n## Total de Encaminhamentos\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_encaminhamentos <- economia_enc_amb + economia_enc_cir\n```\n:::\n\n\n| Categoria | Economia Anual |\n|----|----|\n| Encaminhamentos ambulatoriais | R$ 533.169 |\n| Encaminhamentos cirúrgicos | R$ -28.838 |\n| **Total encaminhamentos** | **R$ 504.331** |\n\n------------------------------------------------------------------------\n\n# 2. Economia com Exames\n\n## Exames Diagnósticos\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexames_diag <- data.frame(\n  exame = c(\n    \"Ecocardiograma\", \"Eletroencefalograma\", \"Endoscopia digestiva\",\n    \"Ultrassonografia\", \"Radiografia\", \"Outros diagnósticos\"\n  ),\n  risco_relativo = c(0.66, 0.96, 0.76, 0.49, 0.72, 0.98),\n  observado = c(1201, 385, 510, 1090, 431, 2424),\n  custo = c(39.94, 13.20, 86.00, 48.16, 30.00, 45.00),\n  stringsAsFactors = FALSE\n)\n\nexames_diag$baseline <- mapply(converter_para_baseline, \n                                exames_diag$observado, \n                                exames_diag$risco_relativo)\n\nexames_diag$eventos_evitados <- exames_diag$baseline * (1 - exames_diag$risco_relativo)\nexames_diag$economia <- exames_diag$eventos_evitados * exames_diag$custo\n\nexames_diag$reducao <- paste0(round((1 - exames_diag$risco_relativo) * 100, 0), \"%\")\nexames_diag$economia_fmt <- formatar_moeda(exames_diag$economia)\n\nknitr::kable(\n  exames_diag[, c(\"exame\", \"reducao\", \"economia_fmt\")],\n  col.names = c(\"Exame Diagnóstico\", \"Redução\", \"Economia/ano\"),\n  caption = \"Economia com exames diagnósticos\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Economia com exames diagnósticos\n\n|Exame Diagnóstico    |Redução |Economia/ano |\n|:--------------------|:-------|:------------|\n|Ecocardiograma       |34%     |R$ 15.344    |\n|Eletroencefalograma  |4%      |R$    172    |\n|Endoscopia digestiva |24%     |R$  9.541    |\n|Ultrassonografia     |51%     |R$ 26.924    |\n|Radiografia          |28%     |R$  3.330    |\n|Outros diagnósticos  |2%      |R$  1.830    |\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_diag <- sum(exames_diag$economia)\n```\n:::\n\n\n**Economia total com exames diagnósticos:** R$ 57.141 por ano\n\n------------------------------------------------------------------------\n\n## Exames Laboratoriais\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexames_lab <- data.frame(\n  exame = c(\n    \"Hemograma\", \"Glicemia jejum\", \"Colesterol total\", \"Colesterol HDL\",\n    \"Colesterol LDL\", \"Triglicerídeos\", \"Creatinina\", \"Ureia\",\n    \"Transaminase TGO\", \"Transaminase TGP\", \"Gama GT\", \"Bilirrubinas\",\n    \"Ácido úrico\", \"Hormônio TSH\", \"Hormônio T4 livre\", \"Antígeno PSA\",\n    \"Hemoglobina glicada\", \"Glicemia pós-prandial\", \"Curva glicêmica\", \"Frutosamina\",\n    \"Sódio\", \"Potássio\", \"Cálcio\", \"Urina tipo 1\",\n    \"Urocultura\", \"Vitamina D\", \"Vitamina B12\", \"Ferritina\",\n    \"Ferro sérico\", \"Fosfatase alcalina\"\n  ),\n  risco_relativo = c(\n    0.53, 0.85, 0.29, 0.42, 0.73, 0.46, 0.64, 0.81,\n    0.94, 0.41, 0.82, 0.23, 0.71, 0.08, 0.13, 0.56,\n    0.78, 0.48, 0.47, 0.69, 0.64, 0.74, 0.09, 0.67,\n    0.44, 0.56, 0.60, 0.48, 0.47, 0.36\n  ),\n  observado = c(\n    51757, 43746, 22577, 10517, 18265, 9072, 25720, 34673,\n    31127, 22163, 33828, 15603, 11679, 791, 886, 5432,\n    2304, 9181, 9363, 3505, 4386, 1957, 604, 41333,\n    1866, 674, 863, 210, 216, 4365\n  ),\n  custo = c(\n    4.11, 1.85, 1.85, 1.85, 1.85, 1.85, 7.86, 1.85,\n    3.51, 3.51, 3.51, 1.85, 8.96, 8.71, 8.71, 11.60,\n    2.01, 2.01, 2.01, 2.01, 3.51, 2.63, 1.65, 3.70,\n    1.85, 10.15, 10.15, 18.55, 18.55, 16.42\n  ),\n  stringsAsFactors = FALSE\n)\n\nexames_lab$baseline <- mapply(converter_para_baseline, \n                               exames_lab$observado, \n                               exames_lab$risco_relativo)\n\nexames_lab$eventos_evitados <- exames_lab$baseline * (1 - exames_lab$risco_relativo)\nexames_lab$economia <- exames_lab$eventos_evitados * exames_lab$custo\n```\n:::\n\n\n### Exames com Maior Redução\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ordenar por risco relativo (menor = maior redução)\nlab_ordenado <- exames_lab[order(exames_lab$risco_relativo), ]\n\ntop10_reducao <- lab_ordenado[1:10, c(\"exame\", \"risco_relativo\", \"economia\")]\ntop10_reducao$reducao <- paste0(round((1 - top10_reducao$risco_relativo) * 100, 0), \"%\")\ntop10_reducao$economia_fmt <- formatar_moeda(top10_reducao$economia)\n\nknitr::kable(\n  top10_reducao[, c(\"exame\", \"reducao\", \"economia_fmt\")],\n  col.names = c(\"Exame\", \"Redução\", \"Economia/ano\"),\n  caption = \"10 exames laboratoriais com maior redução percentual\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: 10 exames laboratoriais com maior redução percentual\n\n|   |Exame              |Redução |Economia/ano |\n|:--|:------------------|:-------|:------------|\n|14 |Hormônio TSH       |92%     |R$  7.645    |\n|23 |Cálcio             |91%     |R$  1.089    |\n|15 |Hormônio T4 livre  |87%     |R$  7.906    |\n|12 |Bilirrubinas       |77%     |R$ 24.987    |\n|3  |Colesterol total   |71%     |R$ 32.455    |\n|30 |Fosfatase alcalina |64%     |R$ 48.698    |\n|10 |Transaminase TGP   |59%     |R$ 47.705    |\n|4  |Colesterol HDL     |58%     |R$ 11.680    |\n|25 |Urocultura         |56%     |R$  1.984    |\n|6  |Triglicerídeos     |54%     |R$  9.226    |\n\n\n:::\n:::\n\n\n### Exames com Maior Economia Absoluta\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlab_por_economia <- exames_lab[order(-exames_lab$economia), ]\n\ntop10_economia <- lab_por_economia[1:10, c(\"exame\", \"risco_relativo\", \"economia\")]\ntop10_economia$reducao <- paste0(round((1 - top10_economia$risco_relativo) * 100, 0), \"%\")\ntop10_economia$economia_fmt <- formatar_moeda(top10_economia$economia)\n\nknitr::kable(\n  top10_economia[, c(\"exame\", \"reducao\", \"economia_fmt\")],\n  col.names = c(\"Exame\", \"Redução\", \"Economia/ano\"),\n  caption = \"10 exames laboratoriais com maior economia absoluta\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: 10 exames laboratoriais com maior economia absoluta\n\n|   |Exame              |Redução |Economia/ano |\n|:--|:------------------|:-------|:------------|\n|1  |Hemograma          |47%     |R$ 98.941    |\n|7  |Creatinina         |36%     |R$ 68.993    |\n|30 |Fosfatase alcalina |64%     |R$ 48.698    |\n|10 |Transaminase TGP   |59%     |R$ 47.705    |\n|24 |Urina tipo 1       |33%     |R$ 47.301    |\n|3  |Colesterol total   |71%     |R$ 32.455    |\n|13 |Ácido úrico        |29%     |R$ 28.019    |\n|16 |Antígeno PSA       |44%     |R$ 27.112    |\n|12 |Bilirrubinas       |77%     |R$ 24.987    |\n|11 |Gama GT            |18%     |R$ 18.957    |\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_lab <- sum(exames_lab$economia)\n```\n:::\n\n\n**Economia total com exames laboratoriais:** R$ 557.879 por ano\n\n------------------------------------------------------------------------\n\n## Total de Exames\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_exames <- economia_diag + economia_lab\n```\n:::\n\n\n| Categoria            | Economia Anual                          |\n|----------------------|-----------------------------------------|\n| Exames diagnósticos  | R$ 57.141       |\n| Exames laboratoriais | R$ 557.879        |\n| **Total exames**     | **R$ 615.020** |\n\n------------------------------------------------------------------------\n\n# 3. Economia com Internações\n\nAs internações evitáveis (condições sensíveis à atenção primária) representam hospitalizações que poderiam ser prevenidas com atenção primária de qualidade.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninternacoes <- data.frame(\n  condicao = c(\n    \"Doenças preveníveis por vacina\", \"Gastroenterites\", \"Anemia\",\n    \"Deficiências nutricionais\", \"Infecções de ouvido e vias aéreas\",\n    \"Pneumonias bacterianas\", \"Asma\", \"Doenças pulmonares\",\n    \"Hipertensão\", \"Angina\", \"Insuficiência cardíaca\",\n    \"Doenças cerebrovasculares\", \"Diabetes\", \"Epilepsias\"\n  ),\n  risco_relativo = c(\n    0.83, 0.76, 0.74, 0.62, 0.52, 0.79, 0.35, 0.78,\n    0.45, 0.57, 0.36, 0.82, 1.06, 0.59\n  ),\n  observado = c(\n    128, 160, 244, 271, 230, 86, 54, 136,\n    45, 114, 116, 331, 28, 41\n  ),\n  custo = c(\n    761.35, 1178.17, 1756.62, 4774.49, 2553.91, 957.47, 853.21, 646.69,\n    527.15, 1969.07, 1969.07, 679.82, 502.60, 612.67\n  ),\n  stringsAsFactors = FALSE\n)\n\ninternacoes$baseline <- mapply(converter_para_baseline, \n                                internacoes$observado, \n                                internacoes$risco_relativo)\n\ninternacoes$eventos_evitados <- internacoes$baseline * (1 - internacoes$risco_relativo)\n\n# Aplicar fator de correção\ninternacoes$economia <- internacoes$eventos_evitados * \n                         internacoes$custo * \n                         fator_correcao_internacoes\n\ninternacoes$reducao <- ifelse(\n  internacoes$risco_relativo <= 1,\n  paste0(round((1 - internacoes$risco_relativo) * 100, 0), \"%\"),\n  paste0(\"+\", round((internacoes$risco_relativo - 1) * 100, 0), \"%\")\n)\n\ninternacoes$economia_fmt <- ifelse(\n  internacoes$economia >= 0,\n  formatar_moeda(internacoes$economia),\n  paste0(\"(\", formatar_moeda(-internacoes$economia), \")\")\n)\n```\n:::\n\n\n### Condições com Maior Redução de Internações\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ordenar por economia\nint_ordenado <- internacoes[order(-internacoes$economia), ]\n\nknitr::kable(\n  int_ordenado[, c(\"condicao\", \"reducao\", \"economia_fmt\")],\n  col.names = c(\"Condição\", \"Redução\", \"Economia/ano\"),\n  caption = \"Economia com internações evitáveis (com fator de correção 1,5)\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Economia com internações evitáveis (com fator de correção 1,5)\n\n|   |Condição                          |Redução |Economia/ano  |\n|:--|:---------------------------------|:-------|:-------------|\n|4  |Deficiências nutricionais         |38%     |R$ 704.554    |\n|5  |Infecções de ouvido e vias aéreas |48%     |R$ 420.211    |\n|11 |Insuficiência cardíaca            |64%     |R$ 232.789    |\n|3  |Anemia                            |26%     |R$ 152.634    |\n|10 |Angina                            |43%     |R$ 141.031    |\n|2  |Gastroenterites                   |24%     |R$  61.513    |\n|12 |Doenças cerebrovasculares         |18%     |R$  53.889    |\n|7  |Asma                              |65%     |R$  47.895    |\n|8  |Doenças pulmonares                |22%     |R$  26.117    |\n|6  |Pneumonias bacterianas            |21%     |R$  23.256    |\n|1  |Doenças preveníveis por vacina    |17%     |R$  21.963    |\n|9  |Hipertensão                       |55%     |R$  20.006    |\n|14 |Epilepsias                        |41%     |R$  14.931    |\n|13 |Diabetes                          |+6%     |(R$    1.035) |\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_internacoes <- sum(internacoes$economia)\n```\n:::\n\n\n**Economia total com internações:** R$ 1.919.752 por ano\n\n**Destaques:**\n\n-   **Asma:** Redução de 65% nas internações\n-   **Insuficiência cardíaca:** Redução de 64% nas internações\n-   **Hipertensão:** Redução de 55% nas internações\n-   **Diabetes:** Único grupo com aumento (6%), mas não estatisticamente significativo\n\n------------------------------------------------------------------------\n\n# 4. Totalização\n\n## Economia Total com 100% de Cobertura\n\n\n::: {.cell}\n\n```{.r .cell-code}\neconomia_total <- economia_encaminhamentos + economia_exames + economia_internacoes\n\nresumo <- data.frame(\n  categoria = c(\"Encaminhamentos\", \"Exames\", \"Internações\", \"TOTAL\"),\n  economia = c(economia_encaminhamentos, economia_exames, economia_internacoes, economia_total),\n  stringsAsFactors = FALSE\n)\n\nresumo$percentual <- resumo$economia / economia_total * 100\nresumo$economia_fmt <- formatar_moeda(resumo$economia)\nresumo$pct_fmt <- paste0(round(resumo$percentual, 1), \"%\")\n\nknitr::kable(\n  resumo[, c(\"categoria\", \"economia_fmt\", \"pct_fmt\")],\n  col.names = c(\"Categoria\", \"Economia Anual\", \"Percentual\"),\n  caption = \"Economia total em saúde com 100% de cobertura por médicos de família\"\n)\n```\n\n::: {.cell-output-display}\n\n\nTable: Economia total em saúde com 100% de cobertura por médicos de família\n\n|Categoria       |Economia Anual |Percentual |\n|:---------------|:--------------|:----------|\n|Encaminhamentos |R$   504.331   |16,6%      |\n|Exames          |R$   615.020   |20,2%      |\n|Internações     |R$ 1.919.752   |63,2%      |\n|TOTAL           |R$ 3.039.103   |100%       |\n\n\n:::\n:::\n\n\n## Interpretação\n\nA economia total de **R$ 3.039.103** por ano representa o potencial máximo se todas as 100 equipes do município fossem cobertas por médicos de família.\n\n**Composição da economia:**\n\n-   **Internações (63%):** A maior parte da economia vem da prevenção de hospitalizações evitáveis. Médicos de família conseguem manejar melhor condições crônicas como hipertensão, insuficiência cardíaca e asma, evitando descompensações que levam a internações.\n\n-   **Encaminhamentos (17%):** Médicos de família resolvem mais problemas na atenção primária, reduzindo a necessidade de consultas com especialistas. A maior economia está em cardiologia, endocrinologia e ortopedia.\n\n-   **Exames (20%):** Médicos de família solicitam exames de forma mais racional, evitando pedidos desnecessários. As maiores reduções estão em exames hormonais (TSH, T4) e perfil lipídico.\n\n------------------------------------------------------------------------\n\n# Função Consolidada\n\nPara uso nos capítulos seguintes, consolidamos o cálculo em uma única função:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncalcular_economia_saude <- function(fator_correcao = 1.5) {\n  #' Calcula a economia total em saúde com 100% de cobertura\n  #'\n  #' @param fator_correcao Fator de correção para internações\n  #' @return Lista com economia por categoria e total\n  \n  # Os cálculos já foram feitos acima, apenas retornamos os resultados\n  # Em uso real, esta função conteria todos os data.frames e cálculos\n  \n  return(list(\n    encaminhamentos = economia_encaminhamentos,\n    exames = economia_exames,\n    internacoes = economia_internacoes,\n    total = economia_total\n  ))\n}\n\n# Verificar\nresultado <- calcular_economia_saude(1.5)\n```\n:::\n\n\n------------------------------------------------------------------------\n\n# Resumo\n\nEste capítulo calculou a economia em saúde que seria gerada se todas as equipes do município fossem cobertas por médicos de família:\n\n| Categoria | Economia Anual | Percentual |\n|----|----|----|\n| Encaminhamentos | R$ 504.331 | 16.6% |\n| Exames | R$ 615.020 | 20.2% |\n| Internações | R$ 1.919.752 | 63.2% |\n| **Total** | **R$ 3.039.103** | **100%** |\n\n**Próximo capítulo:** Utilizaremos este valor para calcular os indicadores econômicos do programa de residência, considerando que a cobertura aumenta gradualmente ao longo dos 10 anos.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}